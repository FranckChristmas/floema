/*! For license information please see main.e7bac3aeea04a4fc52d8.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/About/Gallery.js":(t,s,e)=>{e.r(s),e.d(s,{default:()=>h});var i=e("./node_modules/lodash/lodash.js"),r=e("./app/components/Canvas/About/Media.js"),l=e("./node_modules/gsap/index.js"),o=e("./node_modules/ogl/src/core/Transform.js");class h{constructor({element:t,geometry:s,index:e,gl:i,scene:r,sizes:l}){this.element=t,this.geometry=s,this.index=e,this.gl=i,this.scene=r,this.sizes=l,this.group=new o.Transform,this.scroll={current:0,target:0,start:0,lerp:.1},this.createMedias(),this.group.setParent(this.scene)}createMedias(){this.mediasElements=this.element.querySelectorAll(".about__gallery__media"),this.medias=(0,i.map)(this.mediasElements,((t,s)=>new r.default({element:t,geometry:this.geometry,gl:this.gl,scene:this.scene,index:s,sizes:this.sizes})))}onResize(t){this.bounds=this.element.getBoundingClientRect(),this.sizes=t.sizes,this.width=this.bounds.width/window.innerWidth*this.sizes.width,this.scroll.current=this.scroll.target=0,(0,i.map)(this.medias,(s=>s.onResize(t,this.scroll.current)))}onTouchDown({x:t,y:s}){this.scroll.start=this.scroll.current}onTouchMove({x:t,y:s}){const e=t.start-t.end;this.scroll.target=this.scroll.start-e,console.log("test du scroll target",this.scroll.target)}onTouchUp({x:t,y:s}){}update(){this.bounds&&(this.scroll.current<this.scroll.current?this.x.direction="right":this.scroll.current>this.scroll.current&&(this.x.direction="left"),this.scroll.current=l.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),(0,i.map)(this.medias,((t,s)=>{const e=t.mesh.scale.x/2;if("left"===this.direction){t.mesh.position.x+e<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=l.default.utils.random(.02*-Math.PI,.02*Math.PI))}else if("right"===this.direction){t.mesh.position.x-e>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=l.default.utils.random(.02*-Math.PI,.02*Math.PI))}t.update(this.scroll.current)})))}}}},(function(t){t.h=()=>"4f10088ee168dc0fa23f"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMzQlgsRUFBTWdCLEtBQUtFLFNBQVNoQixFQUFJYSxFQUMxQnJDLEtBQUtELE1BQU1vQixNQUFRLElBQ3pCRyxFQUFNbUIsTUFBTWpCLEdBQUt4QixLQUFLMEMsYUFBYXZCLE1BQ25DRyxFQUFNZ0IsS0FBS0ssU0FBU0MsRUFBSVYsRUFBQUEsUUFBS0MsTUFBTVUsT0FBa0IsS0FBVkMsS0FBS0MsR0FBcUIsSUFBVkQsS0FBS0MsSUFFcEUsQ0FFQXpCLEVBQU1VLE9BQU9oQyxLQUFLRyxPQUFPQyxRQUFRLElBRXJDLGtCQ2pIRjRDLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvQWJvdXQvR2FsbGVyeS5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxhc3QsIG1hcCB9IGZyb20gXCJsb2Rhc2hcIlxuaW1wb3J0IE1lZGlhIGZyb20gXCIuL01lZGlhXCJcbmltcG9ydCBHU0FQIGZyb20gXCJnc2FwXCJcbmltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gXCJvZ2xcIlxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnkge1xuICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGdlb21ldHJ5LCBpbmRleCwgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XG4gICAgXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeVxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxuICAgIHRoaXMuZ2wgPSBnbFxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxuICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xuXG4gICAgdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKVxuICAgIFxuICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgbGVycDogMC4xLFxuXG4gICAgfVxuICAgIFxuICAgIHRoaXMuY3JlYXRlTWVkaWFzKClcblxuICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHRoaXMuc2NlbmUpXG4gIH0gXG5cbiAgY3JlYXRlTWVkaWFzKCkge1xuICAgIHRoaXMubWVkaWFzRWxlbWVudHMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0X19nYWxsZXJ5X19tZWRpYScpXG4gICAgdGhpcy5tZWRpYXMgPSBtYXAodGhpcy5tZWRpYXNFbGVtZW50cywgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE1lZGlhKHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXG4gICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNpemVzOiB0aGlzLnNpemVzLFxuICAgICAgXG4gICAgICAgXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbi8qKlxuICogXG4gICogZXZlbnRzXG4gKi9cbiAgb25SZXNpemUoIGV2ZW50ICkge1xuICAgIHRoaXMuYm91bmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBnZXQgdGhlIHNpemUgb2YgdGhlIGdhbGxlcnkgZWxlbWVudFxuXG4gICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzO1xuXG4gICAgXG4gICAgdGhpcy53aWR0aCA9IHRoaXMuYm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnNpemVzLndpZHRoXG5cbiAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gdGhpcy5zY3JvbGwudGFyZ2V0ID0gMFxuXG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZSggZXZlbnQsIHRoaXMuc2Nyb2xsLmN1cnJlbnQpKVxuICAgIH1cbiAgXG4gIG9uVG91Y2hEb3duICh7IHgsIHkgfSkgeyBcbiAgICB0aGlzLnNjcm9sbC5zdGFydCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnRcbiAgfVxuXG4gIG9uVG91Y2hNb3ZlICh7IHgsIHkgfSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0geC5zdGFydCAtIHguZW5kXG5cbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnNjcm9sbC5zdGFydCAtIGRpc3RhbmNlXG4gICAgY29uc29sZS5sb2coXCJ0ZXN0IGR1IHNjcm9sbCB0YXJnZXRcIiwgdGhpcy5zY3JvbGwudGFyZ2V0KVxuICB9XG5cbiAgb25Ub3VjaFVwICh7IHgsIHkgfSkge1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZVxuICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIGlmICghdGhpcy5ib3VuZHMpIHJldHVyblxuICAgIFxuICAgIGlmKHRoaXMuc2Nyb2xsLmN1cnJlbnQgPCB0aGlzLnNjcm9sbC5jdXJyZW50KSB7XG4gICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ3JpZ2h0J1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA+IHRoaXMuc2Nyb2xsLmN1cnJlbnQpIHtcbiAgICAgIHRoaXMueC5kaXJlY3Rpb24gPSAnbGVmdCdcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIHRoaXMuc2Nyb2xsLmxlcnApIFxuXG4gICAvLyBjb25zb2xlLmxvZyhcInRlc3QgZHUgeCBkaXJlY3Rpb25cIiwgdGhpcy54LmRpcmVjdGlvbilcblxuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgc2NhbGVYID0gbWVkaWEubWVzaC5zY2FsZS54IC8gMlxuICAgICAgXG4gICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICBjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54ICsgc2NhbGVYXG4gICAgICAgIGlmICh4IDwgLXRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueCArPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMiwgTWF0aC5QSSAqIDAuMDIpO1xuXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxuICAgICAgICBpZiAoeCA+IHRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueCAtPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMiwgTWF0aC5QSSAqIDAuMDIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lZGlhLnVwZGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50KVxuICAgIH0pXG4gIH1cbn0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCI0ZjEwMDg4ZWUxNjhkYzBmYTIzZlwiKSJdLCJuYW1lcyI6WyJHYWxsZXJ5IiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiZ2VvbWV0cnkiLCJpbmRleCIsImdsIiwic2NlbmUiLCJzaXplcyIsInRoaXMiLCJncm91cCIsIlRyYW5zZm9ybSIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJzdGFydCIsImxlcnAiLCJjcmVhdGVNZWRpYXMiLCJzZXRQYXJlbnQiLCJtZWRpYXNFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtZWRpYXMiLCJtYXAiLCJNZWRpYSIsIm9uUmVzaXplIiwiZXZlbnQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJtZWRpYSIsIm9uVG91Y2hEb3duIiwieCIsInkiLCJvblRvdWNoTW92ZSIsImRpc3RhbmNlIiwiZW5kIiwiY29uc29sZSIsImxvZyIsIm9uVG91Y2hVcCIsInVwZGF0ZSIsImRpcmVjdGlvbiIsIkdTQVAiLCJ1dGlscyIsImludGVycG9sYXRlIiwic2NhbGVYIiwibWVzaCIsInNjYWxlIiwicG9zaXRpb24iLCJleHRyYSIsImdhbGxlcnlTaXplcyIsInJvdGF0aW9uIiwieiIsInJhbmRvbSIsIk1hdGgiLCJQSSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==