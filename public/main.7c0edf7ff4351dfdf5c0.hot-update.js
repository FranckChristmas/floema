/*! For license information please see main.7c0edf7ff4351dfdf5c0.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Collections/Index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});var l=s("./app/components/Canvas/Collections/Media.js"),i=s("./node_modules/lodash/map.js"),r=s.n(i),o=s("./node_modules/ogl/src/core/Transform.js"),n=s("./node_modules/ogl/src/extras/Plane.js"),c=s("./node_modules/gsap/index.js"),a=s("./node_modules/prefix/index.js"),h=s.n(a);const d=class{constructor({gl:t,scene:e,sizes:s,transition:l}){this.id="collections",this.gl=t,this.sizes=s,this.scene=e,this.transition=l,this.transformPrefix=h()("transform"),this.group=new o.Transform,this.galleryElement=document.querySelector(".collections__gallery"),this.galleryElementWrapper=document.querySelector(".collections__gallery__wrapper"),this.titlesElement=document.querySelector(".collections__titles"),this.collectionsElements=document.querySelectorAll(".collections__article"),this.collectionsElementsActive="collections__article--active",this.mediasElements=document.querySelectorAll(".collections__gallery__media"),document.querySelectorAll(".collections__gallery__link").forEach((t=>{})),this.scroll={current:0,target:0,start:0,lerp:.1,velocity:1},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new n.Plane(this.gl)}createGallery(){this.medias=r()(this.mediasElements,((t,e)=>new l.default({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){this.transition&&this.transition.animate(this.medias[0],(t=>{})),r()(this.medias,(t=>t.show()))}hide(){r()(this.medias,(t=>t.hide()))}onResize(t){this.bounds=this.galleryElementWrapper.getBoundingClientRect(),this.scroll.last=this.scroll.target=0,r()(this.medias,(e=>e.onResize(t,this.scroll))),this.scroll.limit=this.bounds.width-this.medias[0].element.clientWidth}onTouchDown({x:t,y:e}){this.scroll.last=this.scroll.current}onTouchMove({x:t,y:e}){const s=t.start-t.end;this.scroll.target=this.scroll.last-s}onTouchUp({x:t,y:e}){}onWheel({pixelY:t}){this.scroll.target-=t}onChange(t){this.index=t;const e=parseInt(this.mediasElements[this.index].getAttribute("data-index"));r()(this.collectionsElements,((t,s)=>{s===e?t.classList.add(this.collectionsElementsActive):t.classList.remove(this.collectionsElementsActive)})),this.titlesElement.style[this.transformPrefix]=`translateY(-${25*e}%) translate(-50%, -50%) rotate(-90deg)`}update(){if(!this.bounds)return;this.scroll.target=c.default.utils.clamp(-this.scroll.limit,0,this.scroll.target),this.scroll.current=c.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),this.galleryElement.style[this.transformPrefix]=`translateX(${this.scroll.current}px)`,this.scroll.last<this.scroll.current?this.scroll.direction="right":this.scroll.last>this.scroll.current&&(this.scroll.direction="left"),this.scroll.last=this.scroll.current;const t=Math.floor(Math.abs(this.scroll.current/this.scroll.limit)*this.medias.length);this.index!==t&&this.onChange(t),r()(this.medias,((t,e)=>{t.update(this.scroll.current,this.index),t.update()}))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"569dd4b5649433cc0526"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0NvbGxlY3Rpb25zL0luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lZGlhIGZyb20gJy4vTWVkaWEnXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnXG5pbXBvcnQgeyBQbGFuZSwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcbmltcG9ydCBQcmVmaXggZnJvbSAncHJlZml4J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcywgdHJhbnNpdGlvbiB9KSB7XG4gICAgdGhpcy5pZCA9ICdjb2xsZWN0aW9ucycgLy8gaWQgb2YgdGhlIGN1cnJlbnQgcGFnZVxuICAgIHRoaXMuZ2wgPSBnbFxuICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxuICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25cblxuICAgIHRoaXMudHJhbnNmb3JtUHJlZml4ID0gUHJlZml4KCd0cmFuc2Zvcm0nKVxuXG4gICAgdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sbGVjdGlvbnNfX2dhbGxlcnknKTtcbiAgICB0aGlzLmdhbGxlcnlFbGVtZW50V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2xsZWN0aW9uc19fZ2FsbGVyeV9fd3JhcHBlcicpO1xuXG4gICAgdGhpcy50aXRsZXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbGxlY3Rpb25zX190aXRsZXMnKTtcblxuICAgIHRoaXMuY29sbGVjdGlvbnNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsZWN0aW9uc19fYXJ0aWNsZScpO1xuICAgIHRoaXMuY29sbGVjdGlvbnNFbGVtZW50c0FjdGl2ZSA9ICdjb2xsZWN0aW9uc19fYXJ0aWNsZS0tYWN0aXZlJztcblxuICAgIHRoaXMubWVkaWFzRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGVjdGlvbnNfX2dhbGxlcnlfX21lZGlhJyk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGVjdGlvbnNfX2dhbGxlcnlfX2xpbmsnKS5mb3JFYWNoKGxpbmsgPT4ge1xuICAgIH0pO1xuXG4gICAgdGhpcy5zY3JvbGwgPSB7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgdGFyZ2V0OiAwLFxuICAgICAgc3RhcnQ6IDAsXG4gICAgICBsZXJwOiAwLjEsXG4gICAgICB2ZWxvY2l0eTogMSxcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUdlb21ldHJ5KCk7XG4gICAgdGhpcy5jcmVhdGVHYWxsZXJ5KCk7XG5cbiAgICB0aGlzLmdyb3VwLnNldFBhcmVudCh0aGlzLnNjZW5lKVxuXG4gICAgdGhpcy5zaG93KClcbiAgfVxuXG4gIGNyZWF0ZUdlb21ldHJ5KCkge1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgUGxhbmUodGhpcy5nbClcbiAgfVxuXG4gIGNyZWF0ZUdhbGxlcnkoKSB7XG4gICAgdGhpcy5tZWRpYXMgPSBtYXAodGhpcy5tZWRpYXNFbGVtZW50cywgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE1lZGlhKHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXG4gICAgICAgIGluZGV4LFxuICAgICAgICBnbDogdGhpcy5nbCxcbiAgICAgICAgc2NlbmU6IHRoaXMuZ3JvdXAsXG4gICAgICAgIHNpemVzOiB0aGlzLnNpemVzLCAgXG4gICAgICB9KVxuXG4gICAgfSlcbiAgfVxuICAgICAgLyoqXG4gICAgICogQW5pbWF0aW9uc1xuICAgICAqL1xuICBzaG93KCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbi5hbmltYXRlKHRoaXMubWVkaWFzWzBdLCBfID0+IHtcbiAgICAgIH0pXG4gICAgfVxuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxuICAgIH0gIFxuXG4gICAgaGlkZSgpIHtcbiAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLmhpZGUoKSlcbiAgICB9XG4gICAgXG4gIC8qKlxuICAgKiBcbiAgICogZXZlbnRzXG4gICAqL1xuICBvblJlc2l6ZSggZXZlbnQgKSB7XG4gICAgXG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50V3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gZ2V0IHRoZSBzaXplIG9mIHRoZSBnYWxsZXJ5IGVsZW1lbnQgZm9yIHRoZSBXZWIgR0wgXG4gICAgICBcbiAgICB0aGlzLnNjcm9sbC5sYXN0ID0gdGhpcy5zY3JvbGwudGFyZ2V0ID0gMFxuICAgIFxuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEub25SZXNpemUoIGV2ZW50LCB0aGlzLnNjcm9sbCApKVxuXG4gICAgdGhpcy5zY3JvbGwubGltaXQgPSB0aGlzLmJvdW5kcy53aWR0aCAtIHRoaXMubWVkaWFzWzBdLmVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICB9XG4gIFxuICBvblRvdWNoRG93biAoeyB4LCB5IH0pIHsgXG4gICAgdGhpcy5zY3JvbGwubGFzdCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnRcbiAgfVxuXG4gIG9uVG91Y2hNb3ZlICh7IHgsIHkgfSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0geC5zdGFydCAtIHguZW5kXG5cbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnNjcm9sbC5sYXN0IC0gZGlzdGFuY2VcbiAgfVxuXG4gIG9uVG91Y2hVcCAoeyB4LCB5IH0pIHtcbiAgfVxuXG4gIG9uV2hlZWwoeyBwaXhlbFkgfSkge1xuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCAtPSBwaXhlbFkgIC8vIHJldmVyc2VkIGRvd24gYW5kIHVwIHRoZSBzY3JvbGwgZGlyZWN0aW9uXG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZWRcbiAgICovXG4gIG9uQ2hhbmdlKGluZGV4KSB7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4XG5cbiAgICBjb25zdCBzZWxlY3RlZENvbGxlY3Rpb24gPSBwYXJzZUludCh0aGlzLm1lZGlhc0VsZW1lbnRzW3RoaXMuaW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKVxuXG4gICAgbWFwKHRoaXMuY29sbGVjdGlvbnNFbGVtZW50cywgKGVsZW1lbnQsIGVsZW1lbnRJbmRleCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnRJbmRleCA9PT0gc2VsZWN0ZWRDb2xsZWN0aW9uKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbGxlY3Rpb25zRWxlbWVudHNBY3RpdmUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb2xsZWN0aW9uc0VsZW1lbnRzQWN0aXZlKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLnRpdGxlc0VsZW1lbnQuc3R5bGVbdGhpcy50cmFuc2Zvcm1QcmVmaXhdID0gYHRyYW5zbGF0ZVkoLSR7MjUgKiBzZWxlY3RlZENvbGxlY3Rpb259JSkgdHJhbnNsYXRlKC01MCUsIC01MCUpIHJvdGF0ZSgtOTBkZWcpYFxuXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlXG4gICAqL1xuICB1cGRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmJvdW5kcykgcmV0dXJuXG5cbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKC10aGlzLnNjcm9sbC5saW1pdCwgMCwgdGhpcy5zY3JvbGwudGFyZ2V0KVxuXG4gICAgdGhpcy5zY3JvbGwuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy5zY3JvbGwuY3VycmVudCwgdGhpcy5zY3JvbGwudGFyZ2V0LCB0aGlzLnNjcm9sbC5sZXJwKSBcblxuICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQuc3R5bGVbdGhpcy50cmFuc2Zvcm1QcmVmaXhdID0gYHRyYW5zbGF0ZVgoJHt0aGlzLnNjcm9sbC5jdXJyZW50fXB4KWBcblxuICAgIGlmKHRoaXMuc2Nyb2xsLmxhc3QgPCB0aGlzLnNjcm9sbC5jdXJyZW50KSB7XG4gICAgICB0aGlzLnNjcm9sbC5kaXJlY3Rpb24gPSAncmlnaHQnXG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbC5sYXN0ID4gdGhpcy5zY3JvbGwuY3VycmVudCkge1xuICAgICAgdGhpcy5zY3JvbGwuZGlyZWN0aW9uID0gJ2xlZnQnXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGwubGFzdCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnRcblxuICAgIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0aGlzLnNjcm9sbC5jdXJyZW50IC8gdGhpcy5zY3JvbGwubGltaXQpICogdGhpcy5tZWRpYXMubGVuZ3RoKSAvLyBnZXQgdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbiAtIE1BdGhpLmZsb29yIHRvIGdldCB0aGUgaW50ZWdlciB2YWx1ZSBvZiBlYWNoIGl0ZW1cblxuICAgIGlmICh0aGlzLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgXG4gICAgICB0aGlzLm9uQ2hhbmdlKGluZGV4KVxuXG4gICAgfSAvLyBwcmV2ZW50IHRvIGhhdmUgd2VpcmQgaW5kZXggdmFsdWVzXG5cbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcbiAgICAgIG1lZGlhLnVwZGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLmluZGV4KVxuXG4gICAgICBtZWRpYS51cGRhdGUoKVxuXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cClcbiAgfVxufSIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjU2OWRkNGI1NjQ5NDMzY2MwNTI2XCIpIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwiZ2wiLCJzY2VuZSIsInNpemVzIiwidHJhbnNpdGlvbiIsInRoaXMiLCJpZCIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsImdyb3VwIiwiVHJhbnNmb3JtIiwiZ2FsbGVyeUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnYWxsZXJ5RWxlbWVudFdyYXBwZXIiLCJ0aXRsZXNFbGVtZW50IiwiY29sbGVjdGlvbnNFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb2xsZWN0aW9uc0VsZW1lbnRzQWN0aXZlIiwibWVkaWFzRWxlbWVudHMiLCJmb3JFYWNoIiwibGluayIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJzdGFydCIsImxlcnAiLCJ2ZWxvY2l0eSIsImNyZWF0ZUdlb21ldHJ5IiwiY3JlYXRlR2FsbGVyeSIsInNldFBhcmVudCIsInNob3ciLCJnZW9tZXRyeSIsIlBsYW5lIiwibWVkaWFzIiwibWFwIiwiZWxlbWVudCIsImluZGV4IiwiTWVkaWEiLCJhbmltYXRlIiwiXyIsIm1lZGlhIiwiaGlkZSIsIm9uUmVzaXplIiwiZXZlbnQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsYXN0IiwibGltaXQiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwib25Ub3VjaERvd24iLCJ4IiwieSIsIm9uVG91Y2hNb3ZlIiwiZGlzdGFuY2UiLCJlbmQiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxZIiwib25DaGFuZ2UiLCJzZWxlY3RlZENvbGxlY3Rpb24iLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImVsZW1lbnRJbmRleCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0eWxlIiwidXBkYXRlIiwiR1NBUCIsInV0aWxzIiwiY2xhbXAiLCJpbnRlcnBvbGF0ZSIsImRpcmVjdGlvbiIsIk1hdGgiLCJmbG9vciIsImFicyIsImxlbmd0aCIsImRlc3Ryb3kiLCJyZW1vdmVDaGlsZCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==