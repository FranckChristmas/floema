/*! For license information please see main.7746fcd3b154afb8ecc4.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s("./node_modules/ogl/src/core/Renderer.js"),n=s("./node_modules/ogl/src/core/Camera.js"),i=s("./node_modules/ogl/src/core/Transform.js"),r=s("./node_modules/ogl/src/extras/Box.js"),o=s("./node_modules/ogl/src/core/Program.js"),h=s("./node_modules/ogl/src/core/Mesh.js");class d{constructor(){this.createCamera(),this.createRenderer(),this.createScene(),this.createCube()}createRenderer(){this.renderer=new a.Renderer,this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new n.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new i.Transform}createCube(){this.geometry=new r.Box(this.gl),this.program=new o.Program(this.gl,{vertex:"\n          attribute vec3 position;\n\n          uniform mat4 modelViewMatrix;\n          uniform mat4 projectionMatrix;\n\n          void main() {\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n      ",fragment:"\n          void main() {\n              gl_FragColor = vec4(1.0);\n          }\n      "}),this.mesh=new h.Mesh(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene)}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight})}update(){this.renderer.render({scene:this.scene,camera:this.camera})}}},"./app/index.js":(e,t,s)=>{s.r(t);var a=s("./node_modules/lodash/each.js"),n=s.n(a),i=s("./app/components/Canvas/Index.js"),r=s("./app/components/preloader.js"),o=s("./app/pages/About/Index.js"),h=s("./app/pages/Collections/Index.js"),d=s("./app/pages/Detail/Index.js"),c=s("./app/pages/Home/Index.js"),p=s("./app/components/Navigation.js");new class{constructor(){this.createContent(),this.createPreloader(),this.createNavigation(),this.createCanvas(),this.createPages(),this.addEventListeners(),this.addLinkListeners(),this.update()}createNavigation(){this.navigation=new p.default({template:this.template})}createPreloader(){this.preloader=new r.default,this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new i.default}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new o.default,collections:new h.default,detail:new d.default,home:new c.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.preloader.destroy(),this.onResize(),this.page.show()}async onChange(e){await this.page.hide();const t=await window.fetch(e);if(200===t.status){const e=await t.text(),s=document.createElement("div");s.innerHTML=e;const a=s.querySelector(".content");this.template=a.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=a.innerHTML,this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("errrrrrrrror")}onResize(){this.canvas&&this.canvas.onResize&&this.canvas.onResize(),this.page&&this.page.onResize&&this.page.onResize()}update(){this.canvas&&this.canvas.update&&this.canvas.update(),this.page&&this.page.update&&this.page.update(),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");n()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange(s)}}))}}}},(function(e){e.h=()=>"4d4a76580340752a6c17"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bnRzL0NhbnZhcy9JbmRleC5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxvZW1hL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gsIENhbWVyYSwgUmVuZGVyZXIsIFByb2dyYW0sIE1lc2gsIFRyYW5zZm9ybSwgfSBmcm9tICdvZ2wnICBcbi8vIENhbWVyYSwgUmVuZGVyZXIgYW5kIFRyYW5zZm9ybSBhcmUgdGhlIHRocmVlIGVsZW1lbnRzIG5lZWRlZCB0byBjcmVhdGUgYSAzRCBzY2VuZSAtXG4vLyBCb3gsIFByb2dyYW0gYW5kIE1lc2ggYXJlIHRoZSB0aHJlZSBlbGVtZW50cyBuZWVkZWQgdG8gY3JlYXRlIGEgM0Qgb2JqZWN0XG4vLyBhbGwgdGhlIGVsZW1lbnRzIGFyZSBpbXBvcnRlZCBmcm9tIHRoZSBvZ2wgbGlicmFyeVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmNyZWF0ZUNhbWVyYSgpXG4gICAgdGhpcy5jcmVhdGVSZW5kZXJlcigpXG4gICAgdGhpcy5jcmVhdGVTY2VuZSgpXG4gICAgdGhpcy5jcmVhdGVDdWJlKClcblxuICB9XG5cbiAgY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlclxuXG4gICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2xcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5nbC5jYW52YXMpXG4gIH1cblxuICBjcmVhdGVDYW1lcmEoKSB7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMuZ2wpXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDUgLy8gc2V0IHRoZSBjYW1lcmEgcG9zaXRpb24gb24gdGhlIHotYXhpcyB0byA1XG4gIH1cblxuICBjcmVhdGVTY2VuZSgpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRyYW5zZm9ybVxuICB9XG4gIGNyZWF0ZUN1YmUoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBCb3godGhpcy5nbClcblxuICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzLmdsLCB7IC8vIGNyZWF0ZSBhIG5ldyBwcm9ncmFtIHdpdGggdGhlIGZvbGxvd2luZyB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnNcbiAgICAgIHZlcnRleDogLyogZ2xzbCAqLyBgXG4gICAgICAgICAgYXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5cbiAgICAgICAgICB1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1xuICAgICAgICAgIHVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xuICAgICAgICAgIH1cbiAgICAgIGAsXG4gICAgICBmcmFnbWVudDogLyogZ2xzbCAqLyBgXG4gICAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XG4gICAgICAgICAgfVxuICAgICAgYCxcbiAgfSk7XG5cbiAgdGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5nbCwgeyAvLyBjcmVhdGUgYSBuZXcgbWVzaCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyc1xuICAgIGdlb21ldHJ5IDogdGhpcy5nZW9tZXRyeSxcbiAgICBwcm9ncmFtIDogdGhpcy5wcm9ncmFtXG4gIH0pIC8vIGNyZWF0ZSBhIG5ldyBtZXNoIHdpdGggdGhlIGdlb21ldHJ5IGFuZCB0aGUgcHJvZ3JhbVxuXG4gIHRoaXMubWVzaC5zZXRQYXJlbnQodGhpcy5zY2VuZSkgLy8gc2V0IHRoZSBwYXJlbnQgb2YgdGhlIG1lc2ggdG8gdGhlIHNjZW5lXG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbiAgICBcbiAgICB0aGlzLmNhbWVyYS5wZXJzcGVjdGl2ZSh7XG4gICAgICBhc3BlY3Q6IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHtcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYVxuICAgIH0pXG4gIH1cbn1cblxuXG4iLCIvLyBzY3JpcHQoc3JjPVwiL21haW4uanNcIilcbmltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJyAvLy0gbGlicmFyeSB0byB1c2UgZWFjaCBpbnN0ZWFkIG9mIGZvckVhY2ggbWV0aG9kLCB3aGljaCBpc24ndCBhdmFpbGFibGUgaW4gTm9kZS5qc1xuXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY29tcG9uZW50cy9DYW52YXMvSW5kZXgnXG5pbXBvcnQgUHJlbG9hZGVyIGZyb20gJy4vY29tcG9uZW50cy9wcmVsb2FkZXInXG5pbXBvcnQgQWJvdXQgZnJvbSAnLi9wYWdlcy9BYm91dC9JbmRleCdcbmltcG9ydCBDb2xsZWN0aW9ucyBmcm9tICcuL3BhZ2VzL0NvbGxlY3Rpb25zL0luZGV4J1xuaW1wb3J0IERldGFpbCBmcm9tICcuL3BhZ2VzL0RldGFpbC9JbmRleCdcbmltcG9ydCBIb21lIGZyb20gJy4vcGFnZXMvSG9tZS9JbmRleCdcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9OYXZpZ2F0aW9uJ1xuXG5cbmNsYXNzIEFwcCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKVxuICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcbiAgICB0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKVxuICAgIHRoaXMuY3JlYXRlQ2FudmFzKClcbiAgICB0aGlzLmNyZWF0ZVBhZ2VzKClcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpIC8vIHJvdXRpbmcgdGhlIHBhZ2VzXG5cbiAgICB0aGlzLnVwZGF0ZSgpXG4gIH1cblxuICBjcmVhdGVOYXZpZ2F0aW9uKCkge1xuICAgIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKHtcbiAgICAgIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLFxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlUHJlbG9hZGVyICgpIHtcbiAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIoKVxuICAgIHRoaXMucHJlbG9hZGVyLm9uY2UoJ2NvbXBsZXRlZCcsIHRoaXMub25QcmVsb2FkZWQuYmluZCh0aGlzKSlcblxuICB9XG5cbiAgY3JlYXRlQ2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcygpXG4gIH1cblxuICBjcmVhdGVDb250ZW50ICgpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMuY29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxuICB9XG5cbiAgY3JlYXRlUGFnZXMgKCkgIHtcbiAgICB0aGlzLnBhZ2VzID0ge1xuICAgICAgYWJvdXQ6IG5ldyBBYm91dCgpLFxuICAgICAgY29sbGVjdGlvbnM6IG5ldyBDb2xsZWN0aW9ucygpLFxuICAgICAgZGV0YWlsOiBuZXcgRGV0YWlsKCksXG4gICAgICBob21lOiBuZXcgSG9tZSgpXG4gICAgfVxuXG4gICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICB9XG5cbiAgLyoqKlxuICAgKiBFdmVudHNcbiAgICovXG4gIG9uUHJlbG9hZGVkKCkge1xuICAgIHRoaXMucHJlbG9hZGVyLmRlc3Ryb3koKVxuICAgIHRoaXMub25SZXNpemUoKVxuICAgIHRoaXMucGFnZS5zaG93KClcblxuICB9XG5cbiAgYXN5bmMgb25DaGFuZ2UodXJsKSB7XG4gICAgYXdhaXQgdGhpcy5wYWdlLmhpZGUoKSAvL2hpZGUgdGhlIGN1cnJlbnQgcGFnZVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpIC8vLSBmZXRjaCB0aGUgbmV3IHBhZ2UgaGVyZSAtIGFzeW5jL2F3YWl0IGFsbG93IGFzeW5jaHJvbmVzIHJlcXVlc3RzIGZvcnYgZmV0Y2hpbmcgZGF0YVxuICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVxdWVzdC50ZXh0KClcblxuICAgICAgY29uc3QgZGl2PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXG4gICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFxuXG4gICAgICBjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcblxuICAgICAgdGhpcy50ZW1wbGF0ZSA9IGRpdkNvbnRlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJykgLy8gd2l0aCB0aGlzIGxpbmUsIHdlIGNhbiBnZXQgdGhlIHRlbXBsYXRlIG9mIHRoZSBuZXcgcGFnZVxuXG4gICAgICB0aGlzLm5hdmlnYXRpb24ub25DaGFuZ2UodGhpcy50ZW1wbGF0ZSlcblxuICAgICAgdGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScsIHRoaXMudGVtcGxhdGUpIC8vIHdpdGggdGhpcyBsaW5lLCB3ZSBjYW4gc2V0IHRoZSB0ZW1wbGF0ZSBvZiB0aGUgbmV3IHBhZ2VcblxuICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MICBcblxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuXG4gICAgICB0aGlzLnBhZ2UuY3JlYXRlKClcbiAgICAgIFxuICAgICAgdGhpcy5vblJlc2l6ZSgpXG4gXG4gICAgICB0aGlzLnBhZ2Uuc2hvdygpXG5cbiAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpXG4gICAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygnZXJycnJycnJycm9yJylcbiAgfVxufVxuXG5vblJlc2l6ZSgpIHtcbiAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uUmVzaXplKSB7ICAvLyB0byBleHBsYWluIDogaWYgdGhlIGNhbnZhcyBleGlzdHMgYW5kIHRoZSBtZXRob2Qgb25SZXNpemUgb2YgdGhlIGNhbnZhcyBleGlzdHMsIHRoZW4gZXhlY3V0ZSB0aGUgbWV0aG9kIG9uUmVzaXplIG9mIHRoZSBjYW52YXNcbiAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpXG4gIH1cblxuICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vblJlc2l6ZSkgeyAvLyB0byBleHBsYWluIDogaWYgdGhlIHBhZ2UgZXhpc3RzIGFuZCB0aGUgbWV0aG9kIG9uUmVzaXplIG9mIHRoZSBwYWdlIGV4aXN0cywgdGhlbiBleGVjdXRlIHRoZSBtZXRob2Qgb25SZXNpemUgb2YgdGhlIHBhZ2VcbiAgICB0aGlzLnBhZ2Uub25SZXNpemUoKVxuICB9XG59XG5cblxuLyoqKlxuICogTG9vcFxuICovXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudXBkYXRlKSB7XG4gICAgICB0aGlzLmNhbnZhcy51cGRhdGUoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLnVwZGF0ZSkge1xuICAgICAgdGhpcy5wYWdlLnVwZGF0ZSgpXG4gICAgfVxuICAgIHRoaXMuZnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlLmJpbmQodGhpcykpXG4gIH1cblxuICAvKioqXG4gICAqIExpc3RlbmVyc1xuICAgKi9cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgYWRkTGlua0xpc3RlbmVycygpIHtcbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKSAvLy0gZ2F0aGVyIGFsbCB0aGUgbGlua3Mgb2YgdGhlIHBhZ2VcbiAgICBlYWNoKGxpbmtzLCBsaW5rID0+IHtcbiAgICAgIGxpbmsub25jbGljayA9IGV2ZW50ID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBocmVmIH0gPSBsaW5rIC8vLSB0byBnZXQgdGhlIHVybCBsaW5rIG9mIHRoZSBwYWdlXG4gICAgICAgIHRoaXMub25DaGFuZ2UoaHJlZilcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbm5ldyBBcHAoKSIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjRkNGE3NjU4MDM0MDc1MmE2YzE3XCIpIl0sIm5hbWVzIjpbIkNhbnZhcyIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNyZWF0ZUNhbWVyYSIsImNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlU2NlbmUiLCJjcmVhdGVDdWJlIiwicmVuZGVyZXIiLCJSZW5kZXJlciIsImdsIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJwb3NpdGlvbiIsInoiLCJzY2VuZSIsIlRyYW5zZm9ybSIsImdlb21ldHJ5IiwiQm94IiwicHJvZ3JhbSIsIlByb2dyYW0iLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsIm1lc2giLCJNZXNoIiwic2V0UGFyZW50Iiwib25SZXNpemUiLCJzZXRTaXplIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicGVyc3BlY3RpdmUiLCJhc3BlY3QiLCJ1cGRhdGUiLCJyZW5kZXIiLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlUHJlbG9hZGVyIiwiY3JlYXRlTmF2aWdhdGlvbiIsImNyZWF0ZUNhbnZhcyIsImNyZWF0ZVBhZ2VzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRMaW5rTGlzdGVuZXJzIiwibmF2aWdhdGlvbiIsIk5hdmlnYXRpb24iLCJ0ZW1wbGF0ZSIsInByZWxvYWRlciIsIlByZWxvYWRlciIsIm9uY2UiLCJvblByZWxvYWRlZCIsImJpbmQiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInBhZ2VzIiwiYWJvdXQiLCJBYm91dCIsImNvbGxlY3Rpb25zIiwiQ29sbGVjdGlvbnMiLCJkZXRhaWwiLCJEZXRhaWwiLCJob21lIiwiSG9tZSIsInBhZ2UiLCJjcmVhdGUiLCJkZXN0cm95Iiwic2hvdyIsIm9uQ2hhbmdlIiwidXJsIiwiaGlkZSIsInJlcXVlc3QiLCJmZXRjaCIsInN0YXR1cyIsImh0bWwiLCJ0ZXh0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImRpdkNvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJjb25zb2xlIiwibG9nIiwiZnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWFjaCIsImxpbmsiLCJvbmNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImhyZWYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=