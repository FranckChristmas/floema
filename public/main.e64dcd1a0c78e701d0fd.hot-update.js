/*! For license information please see main.e64dcd1a0c78e701d0fd.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Home/Index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./app/components/Canvas/Home/Media.js"),h=s("./node_modules/lodash/map.js"),r=s.n(h),l=s("./node_modules/ogl/src/core/Transform.js"),o=s("./node_modules/ogl/src/extras/Plane.js"),n=s("./node_modules/gsap/index.js");class a{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.sizes=s,this.scene=e,this.group=new l.Transform,this.galleryElement=document.querySelector(".home__gallery"),this.mediaElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new o.Plane(this.gl)}createGallery(){this.medias=r()(this.mediaElements,((t,e)=>new i.default({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){r()(this.medias,(t=>t.show()))}hide(){r()(this.medias,(t=>t.hide()))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.gallerySizes={height:this.galleryBounds.height/window.innerHeight*this.sizes.height,width:this.galleryBounds.width/window.innerWidth*this.sizes.width},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,this.sizes=t.sizes,r()(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target-=e}update(){this.galleryBounds&&(this.x.current=n.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=n.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,r()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2;if("left"===this.x.direction){t.mesh.position.x+s<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=n.default.utils.random(.02*-Math.PI,.02*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=n.default.utils.random(.02*-Math.PI,.02*Math.PI))}const i=t.mesh.scale.y/2;if("top"===this.y.direction){t.mesh.position.y+i<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=n.default.utils.random(.02*-Math.PI,.02*Math.PI))}else if("bottom"===this.y.direction){t.mesh.position.y-i>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=n.default.utils.random(.02*-Math.PI,.02*Math.PI))}t.update(this.scroll)})))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"65a27dca9ea80556fba6"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU1qRCxHQUFLUixLQUFLZ0MsYUFBYUksTUFDbkNWLEVBQU00QixLQUFLSSxTQUFTQyxFQUFJVixFQUFBQSxRQUFLQyxNQUFNVSxPQUFrQixLQUFWQyxLQUFLQyxHQUFxQixJQUFWRCxLQUFLQyxJQUVwRSxDQUVBLE1BQU1DLEVBQVNyQyxFQUFNNEIsS0FBS0MsTUFBTTNDLEVBQUksRUFFcEMsR0FBeUIsUUFBckJaLEtBQUtZLEVBQUV3QyxVQUFxQixDQUNwQjFCLEVBQU00QixLQUFLRSxTQUFTNUMsRUFBSW1ELEdBQ3pCL0QsS0FBS0QsTUFBTWtDLE9BQVMsSUFDM0JQLEVBQU0rQixNQUFNN0MsR0FBS1osS0FBS2dDLGFBQWFDLE9BQ25DUCxFQUFNNEIsS0FBS0ksU0FBU0MsRUFBSVYsRUFBQUEsUUFBS0MsTUFBTVUsT0FBa0IsS0FBVkMsS0FBS0MsR0FBcUIsSUFBVkQsS0FBS0MsSUFHcEUsTUFBTyxHQUF5QixXQUFyQjlELEtBQUtZLEVBQUV3QyxVQUF3QixDQUM5QjFCLEVBQU00QixLQUFLRSxTQUFTNUMsRUFBSW1ELEVBQzFCL0QsS0FBS0QsTUFBTWtDLE9BQVMsSUFDMUJQLEVBQU0rQixNQUFNN0MsR0FBS1osS0FBS2dDLGFBQWFDLE9BQ25DUCxFQUFNNEIsS0FBS0ksU0FBU0MsRUFBSVYsRUFBQUEsUUFBS0MsTUFBTVUsT0FBa0IsS0FBVkMsS0FBS0MsR0FBcUIsSUFBVkQsS0FBS0MsSUFFcEUsQ0FDQXBDLEVBQU1zQixPQUFPaEQsS0FBS2MsT0FBTyxJQUU3QixDQUtBa0QsT0FBQUEsR0FDRWhFLEtBQUtGLE1BQU1tRSxZQUFZakUsS0FBS0MsTUFDOUIsa0JDdkxGaUUsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb2VtYS8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Ib21lL0luZGV4LmpzIiwid2VicGFjazovL2Zsb2VtYS93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lZGlhIGZyb20gJy4vTWVkaWEnXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnXG5pbXBvcnQgeyBQbGFuZSwgVHJhbnNmb3JtIH0gZnJvbSAnb2dsJ1xuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSB7XG4gIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XG4gICAgdGhpcy5nbCA9IGdsXG4gICAgdGhpcy5zaXplcyA9IHNpemVzXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lXG5cbiAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgdGhpcy5nYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX19nYWxsZXJ5Jyk7XG4gICAgdGhpcy5tZWRpYUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhvbWVfX2dhbGxlcnlfX21lZGlhX19pbWFnZScpO1xuXG4gICAgdGhpcy54ID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxlcnA6IDAuMSxcbiAgICB9XG5cbiAgICB0aGlzLnkgPSB7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgdGFyZ2V0OiAwLFxuICAgICAgbGVycDogMC4xLFxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudCA9IHtcbiAgICAgIHg6IDAsIFxuICAgICAgeTogMCwgXG4gICAgfVxuXG5cbiAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKTtcblxuICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHRoaXMuc2NlbmUpXG5cbiAgICB0aGlzLnNob3coKVxuICB9XG5cbiAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKVxuICB9XG5cbiAgY3JlYXRlR2FsbGVyeSgpIHtcbiAgICB0aGlzLm1lZGlhcyA9IG1hcCh0aGlzLm1lZGlhRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgICBpbmRleCxcbiAgICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICAgIHNjZW5lOiB0aGlzLmdyb3VwLFxuICAgICAgICBzaXplczogdGhpcy5zaXplcywgIFxuICAgICAgfSlcblxuICAgIH0pXG4gIH1cbiAgICAgIC8qKlxuICAgICAqIEFuaW1hdGlvbnNcbiAgICAgKi9cbiAgICAgIHNob3coKSB7XG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxuICAgICAgIH0gIFxuICAgICAgIGhpZGUoKSB7XG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuaGlkZSgpKVxuICAgICAgIH1cbiAgICBcbiAgLyoqXG4gICAqIFxuICAgKiBldmVudHNcbiAgICovXG4gIG9uUmVzaXplKCBldmVudCApIHtcbiAgICBcbiAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBnZXQgdGhlIHNpemUgb2YgdGhlIGdhbGxlcnkgZWxlbWVudFxuICAgIFxuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgaGVpZ2h0OiAodGhpcy5nYWxsZXJ5Qm91bmRzLmhlaWdodCAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiB0aGlzLnNpemVzLmhlaWdodCxcbiAgICAgIHdpZHRoOih0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiB0aGlzLnNpemVzLndpZHRoLFxuICAgIH1cbiAgICB0aGlzLnNjcm9sbC54ID0gdGhpcy54LnRhcmdldCA9IDBcbiAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LnRhcmdldCA9IDBcbiAgICB0aGlzLnNpemVzID0gZXZlbnQuc2l6ZXM7XG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZSggZXZlbnQsIHRoaXMuc2Nyb2xsICkpXG4gICAgfVxuICBcbiAgb25Ub3VjaERvd24gKHsgeCwgeSB9KSB7IFxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudC54ID0gdGhpcy5zY3JvbGwueFxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudC55ID0gdGhpcy5zY3JvbGwueVxuICB9XG5cbiAgb25Ub3VjaE1vdmUgKHsgeCwgeSB9KSB7XG4gICAgY29uc3QgeERpc3RhbmNlID0geC5zdGFydCAtIHguZW5kXG4gICAgY29uc3QgeURpc3RhbmNlID0geS5zdGFydCAtIHkuZW5kXG5cbiAgICB0aGlzLngudGFyZ2V0ID0gdGhpcy5zY3JvbGxDdXJyZW50LnggLSB4RGlzdGFuY2VcbiAgICB0aGlzLnkudGFyZ2V0ID0gdGhpcy5zY3JvbGxDdXJyZW50LnkgLSB5RGlzdGFuY2VcbiAgfVxuXG4gIG9uVG91Y2hVcCAoeyB4LCB5IH0pIHtcbiAgfVxuXG4gIG9uV2hlZWwoeyBwaXhlbFgscGl4ZWxZIH0pIHtcbiAgICB0aGlzLngudGFyZ2V0ICs9IHBpeGVsWFxuICAgIHRoaXMueS50YXJnZXQgLT0gcGl4ZWxZICAvLyByZXZlcmVkIGRvd24gYW5kIHVwIHRoZSBzY3JvbGwgZGlyZWN0aW9uXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlXG4gICAqL1xuICB1cGRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmdhbGxlcnlCb3VuZHMpIHJldHVyblxuXG4gICAgdGhpcy54LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueC5jdXJyZW50LCB0aGlzLngudGFyZ2V0LCB0aGlzLngubGVycCkgXG4gICAgdGhpcy55LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueS5jdXJyZW50LCB0aGlzLnkudGFyZ2V0LCB0aGlzLnkubGVycCkgXG5cbiAgICBpZih0aGlzLnNjcm9sbC54IDwgdGhpcy54LmN1cnJlbnQpIHtcbiAgICAgIHRoaXMueC5kaXJlY3Rpb24gPSAncmlnaHQnXG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbC54ID4gdGhpcy54LmN1cnJlbnQpIHtcbiAgICAgIHRoaXMueC5kaXJlY3Rpb24gPSAnbGVmdCdcbiAgICB9XG4gICAgaWYodGhpcy5zY3JvbGwueSA8IHRoaXMueS5jdXJyZW50KSB7XG4gICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3RvcCdcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xuICAgICAgdGhpcy55LmRpcmVjdGlvbiA9ICdib3R0b20nXG4gICAgfVxuXG4gICAvLyBjb25zb2xlLmxvZyhcInRlc3QgZHUgeCBkaXJlY3Rpb25cIiwgdGhpcy54LmRpcmVjdGlvbilcblxuICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudFxuICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkuY3VycmVudFxuXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0KVxuXG4gICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzY2FsZVggPSBtZWRpYS5tZXNoLnNjYWxlLnggLyAyXG4gICAgICBcbiAgICAgIGlmICh0aGlzLnguZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCArIHNjYWxlWFxuICAgICAgICBpZiAoeCA8IC10aGlzLnNpemVzLndpZHRoIC8gMikge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnggKz0gdGhpcy5nYWxsZXJ5U2l6ZXMud2lkdGhcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDIsIE1hdGguUEkgKiAwLjAyKTtcblxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueC5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxuICAgICAgICBpZiAoeCA+IHRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueCAtPSB0aGlzLmdhbGxlcnlTaXplcy53aWR0aFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMiwgTWF0aC5QSSAqIDAuMDIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNjYWxlWSA9IG1lZGlhLm1lc2guc2NhbGUueSAvIDJcbiAgICAgIFxuICAgICAgaWYgKHRoaXMueS5kaXJlY3Rpb24gPT09ICd0b3AnKSB7XG4gICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgKyBzY2FsZVlcbiAgICAgICAgaWYgKHkgPCAtdGhpcy5zaXplcy5oZWlnaHQgLyAyKSB7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueSArPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDIsIE1hdGguUEkgKiAwLjAyKTtcblxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueS5kaXJlY3Rpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgLSBzY2FsZVlcbiAgICAgICAgaWYgKHkgPiB0aGlzLnNpemVzLmhlaWdodCAvIDIpIHtcbiAgICAgICAgICBtZWRpYS5leHRyYS55IC09IHRoaXMuZ2FsbGVyeVNpemVzLmhlaWdodFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMiwgTWF0aC5QSSAqIDAuMDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cClcbiAgfVxufSIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjY1YTI3ZGNhOWVhODA1NTZmYmE2XCIpIl0sIm5hbWVzIjpbIkhvbWUiLCJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsInRoaXMiLCJncm91cCIsIlRyYW5zZm9ybSIsImdhbGxlcnlFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVkaWFFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ4IiwiY3VycmVudCIsInRhcmdldCIsImxlcnAiLCJ5Iiwic2Nyb2xsQ3VycmVudCIsInNjcm9sbCIsImNyZWF0ZUdlb21ldHJ5IiwiY3JlYXRlR2FsbGVyeSIsInNldFBhcmVudCIsInNob3ciLCJnZW9tZXRyeSIsIlBsYW5lIiwibWVkaWFzIiwibWFwIiwiZWxlbWVudCIsImluZGV4IiwiTWVkaWEiLCJtZWRpYSIsImhpZGUiLCJvblJlc2l6ZSIsImV2ZW50IiwiZ2FsbGVyeUJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdhbGxlcnlTaXplcyIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsInhEaXN0YW5jZSIsInN0YXJ0IiwiZW5kIiwieURpc3RhbmNlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsInBpeGVsWCIsInBpeGVsWSIsInVwZGF0ZSIsIkdTQVAiLCJ1dGlscyIsImludGVycG9sYXRlIiwiZGlyZWN0aW9uIiwic2NhbGVYIiwibWVzaCIsInNjYWxlIiwicG9zaXRpb24iLCJleHRyYSIsInJvdGF0aW9uIiwieiIsInJhbmRvbSIsIk1hdGgiLCJQSSIsInNjYWxlWSIsImRlc3Ryb3kiLCJyZW1vdmVDaGlsZCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==