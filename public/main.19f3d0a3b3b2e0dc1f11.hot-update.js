/*! For license information please see main.19f3d0a3b3b2e0dc1f11.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/components/Canvas/Collections/Index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});var l=s("./app/components/Canvas/Collections/Media.js"),i=s("./node_modules/lodash/map.js"),r=s.n(i),o=s("./node_modules/ogl/src/core/Transform.js"),n=s("./node_modules/ogl/src/extras/Plane.js"),c=s("./node_modules/gsap/index.js"),a=s("./node_modules/prefix/index.js"),h=s.n(a);const d=class{constructor({gl:t,scene:e,sizes:s,transition:l}){this.id="collections",this.gl=t,this.sizes=s,this.scene=e,this.transition,this.transformPrefix=h()("transform"),this.group=new o.Transform,this.galleryElement=document.querySelector(".collections__gallery"),this.galleryElementWrapper=document.querySelector(".collections__gallery__wrapper"),this.titlesElement=document.querySelector(".collections__titles"),this.collectionsElements=document.querySelectorAll(".collections__article"),this.collectionsElementsActive="collections__article--active",this.mediasElements=document.querySelectorAll(".collections__gallery__media"),document.querySelectorAll(".collections__gallery__link").forEach((t=>{})),this.scroll={current:0,target:0,start:0,lerp:.1,velocity:1},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new n.Plane(this.gl)}createGallery(){this.medias=r()(this.mediasElements,((t,e)=>new l.default({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){this.transition&&this.transition.animate(this.medias[0],(t=>{})),r()(this.medias,(t=>t.show()))}hide(){r()(this.medias,(t=>t.hide()))}onResize(t){this.bounds=this.galleryElementWrapper.getBoundingClientRect(),this.scroll.last=this.scroll.target=0,r()(this.medias,(e=>e.onResize(t,this.scroll))),this.scroll.limit=this.bounds.width-this.medias[0].element.clientWidth}onTouchDown({x:t,y:e}){this.scroll.last=this.scroll.current}onTouchMove({x:t,y:e}){const s=t.start-t.end;this.scroll.target=this.scroll.last-s}onTouchUp({x:t,y:e}){}onWheel({pixelY:t}){this.scroll.target-=t}onChange(t){this.index=t;const e=parseInt(this.mediasElements[this.index].getAttribute("data-index"));r()(this.collectionsElements,((t,s)=>{s===e?t.classList.add(this.collectionsElementsActive):t.classList.remove(this.collectionsElementsActive)})),this.titlesElement.style[this.transformPrefix]=`translateY(-${25*e}%) translate(-50%, -50%) rotate(-90deg)`}update(){if(!this.bounds)return;this.scroll.target=c.default.utils.clamp(-this.scroll.limit,0,this.scroll.target),this.scroll.current=c.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),this.galleryElement.style[this.transformPrefix]=`translateX(${this.scroll.current}px)`,this.scroll.last<this.scroll.current?this.scroll.direction="right":this.scroll.last>this.scroll.current&&(this.scroll.direction="left"),this.scroll.last=this.scroll.current;const t=Math.floor(Math.abs(this.scroll.current/this.scroll.limit)*this.medias.length);this.index!==t&&this.onChange(t),r()(this.medias,((t,e)=>{t.update(this.scroll.current,this.index),t.update()}))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"7c0edf7ff4351dfdf5c0"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvQ29sbGVjdGlvbnMvSW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxvZW1hL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTWVkaWEgZnJvbSAnLi9NZWRpYSdcbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCdcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tICdvZ2wnXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xuaW1wb3J0IFByZWZpeCBmcm9tICdwcmVmaXgnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoeyBnbCwgc2NlbmUsIHNpemVzLCB0cmFuc2l0aW9uIH0pIHtcbiAgICB0aGlzLmlkID0gJ2NvbGxlY3Rpb25zJyAvLyBpZCBvZiB0aGUgY3VycmVudCBwYWdlXG4gICAgdGhpcy5nbCA9IGdsXG4gICAgdGhpcy5zaXplcyA9IHNpemVzXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lXG4gICAgdGhpcy50cmFuc2l0aW9uIFxuXG4gICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoJ3RyYW5zZm9ybScpXG5cbiAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgdGhpcy5nYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2xsZWN0aW9uc19fZ2FsbGVyeScpO1xuICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbGxlY3Rpb25zX19nYWxsZXJ5X193cmFwcGVyJyk7XG5cbiAgICB0aGlzLnRpdGxlc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sbGVjdGlvbnNfX3RpdGxlcycpO1xuXG4gICAgdGhpcy5jb2xsZWN0aW9uc0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbGxlY3Rpb25zX19hcnRpY2xlJyk7XG4gICAgdGhpcy5jb2xsZWN0aW9uc0VsZW1lbnRzQWN0aXZlID0gJ2NvbGxlY3Rpb25zX19hcnRpY2xlLS1hY3RpdmUnO1xuXG4gICAgdGhpcy5tZWRpYXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsZWN0aW9uc19fZ2FsbGVyeV9fbWVkaWEnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsZWN0aW9uc19fZ2FsbGVyeV9fbGluaycpLmZvckVhY2gobGluayA9PiB7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICB0YXJnZXQ6IDAsXG4gICAgICBzdGFydDogMCxcbiAgICAgIGxlcnA6IDAuMSxcbiAgICAgIHZlbG9jaXR5OiAxLFxuICAgIH1cblxuICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKTtcblxuICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHRoaXMuc2NlbmUpXG5cbiAgICB0aGlzLnNob3coKVxuICB9XG5cbiAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsKVxuICB9XG5cbiAgY3JlYXRlR2FsbGVyeSgpIHtcbiAgICB0aGlzLm1lZGlhcyA9IG1hcCh0aGlzLm1lZGlhc0VsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgTWVkaWEoe1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGdsOiB0aGlzLmdsLFxuICAgICAgICBzY2VuZTogdGhpcy5ncm91cCxcbiAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXMsICBcbiAgICAgIH0pXG5cbiAgICB9KVxuICB9XG4gICAgICAvKipcbiAgICAgKiBBbmltYXRpb25zXG4gICAgICovXG4gIHNob3coKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy50cmFuc2l0aW9uLmFuaW1hdGUodGhpcy5tZWRpYXNbMF0sIF8gPT4ge1xuICAgICAgfSlcbiAgICB9XG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5zaG93KCkpXG4gICAgfSAgXG5cbiAgICBoaWRlKCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuaGlkZSgpKVxuICAgIH1cbiAgICBcbiAgLyoqXG4gICAqIFxuICAgKiBldmVudHNcbiAgICovXG4gIG9uUmVzaXplKCBldmVudCApIHtcbiAgICBcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuZ2FsbGVyeUVsZW1lbnRXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBnZXQgdGhlIHNpemUgb2YgdGhlIGdhbGxlcnkgZWxlbWVudCBmb3IgdGhlIFdlYiBHTCBcbiAgICAgIFxuICAgIHRoaXMuc2Nyb2xsLmxhc3QgPSB0aGlzLnNjcm9sbC50YXJnZXQgPSAwXG4gICAgXG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZSggZXZlbnQsIHRoaXMuc2Nyb2xsICkpXG5cbiAgICB0aGlzLnNjcm9sbC5saW1pdCA9IHRoaXMuYm91bmRzLndpZHRoIC0gdGhpcy5tZWRpYXNbMF0uZWxlbWVudC5jbGllbnRXaWR0aFxuICAgIH1cbiAgXG4gIG9uVG91Y2hEb3duICh7IHgsIHkgfSkgeyBcbiAgICB0aGlzLnNjcm9sbC5sYXN0ID0gdGhpcy5zY3JvbGwuY3VycmVudFxuICB9XG5cbiAgb25Ub3VjaE1vdmUgKHsgeCwgeSB9KSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmRcblxuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCA9IHRoaXMuc2Nyb2xsLmxhc3QgLSBkaXN0YW5jZVxuICB9XG5cbiAgb25Ub3VjaFVwICh7IHgsIHkgfSkge1xuICB9XG5cbiAgb25XaGVlbCh7IHBpeGVsWSB9KSB7XG4gICAgdGhpcy5zY3JvbGwudGFyZ2V0IC09IHBpeGVsWSAgLy8gcmV2ZXJzZWQgZG93biBhbmQgdXAgdGhlIHNjcm9sbCBkaXJlY3Rpb25cbiAgfVxuICAvKipcbiAgICogQ2hhbmdlZFxuICAgKi9cbiAgb25DaGFuZ2UoaW5kZXgpIHtcbiAgICB0aGlzLmluZGV4ID0gaW5kZXhcblxuICAgIGNvbnN0IHNlbGVjdGVkQ29sbGVjdGlvbiA9IHBhcnNlSW50KHRoaXMubWVkaWFzRWxlbWVudHNbdGhpcy5pbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpXG5cbiAgICBtYXAodGhpcy5jb2xsZWN0aW9uc0VsZW1lbnRzLCAoZWxlbWVudCwgZWxlbWVudEluZGV4KSA9PiB7XG4gICAgICBpZiAoZWxlbWVudEluZGV4ID09PSBzZWxlY3RlZENvbGxlY3Rpb24pIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuY29sbGVjdGlvbnNFbGVtZW50c0FjdGl2ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbGxlY3Rpb25zRWxlbWVudHNBY3RpdmUpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMudGl0bGVzRWxlbWVudC5zdHlsZVt0aGlzLnRyYW5zZm9ybVByZWZpeF0gPSBgdHJhbnNsYXRlWSgtJHsyNSAqIHNlbGVjdGVkQ29sbGVjdGlvbn0lKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKC05MGRlZylgXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVcbiAgICovXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuYm91bmRzKSByZXR1cm5cblxuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCA9IEdTQVAudXRpbHMuY2xhbXAoLXRoaXMuc2Nyb2xsLmxpbWl0LCAwLCB0aGlzLnNjcm9sbC50YXJnZXQpXG5cbiAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIHRoaXMuc2Nyb2xsLmxlcnApIFxuXG4gICAgdGhpcy5nYWxsZXJ5RWxlbWVudC5zdHlsZVt0aGlzLnRyYW5zZm9ybVByZWZpeF0gPSBgdHJhbnNsYXRlWCgke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgpYFxuXG4gICAgaWYodGhpcy5zY3JvbGwubGFzdCA8IHRoaXMuc2Nyb2xsLmN1cnJlbnQpIHtcbiAgICAgIHRoaXMuc2Nyb2xsLmRpcmVjdGlvbiA9ICdyaWdodCdcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLmxhc3QgPiB0aGlzLnNjcm9sbC5jdXJyZW50KSB7XG4gICAgICB0aGlzLnNjcm9sbC5kaXJlY3Rpb24gPSAnbGVmdCdcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbC5sYXN0ID0gdGhpcy5zY3JvbGwuY3VycmVudFxuXG4gICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGguYWJzKHRoaXMuc2Nyb2xsLmN1cnJlbnQgLyB0aGlzLnNjcm9sbC5saW1pdCkgKiB0aGlzLm1lZGlhcy5sZW5ndGgpIC8vIGdldCB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIC0gTUF0aGkuZmxvb3IgdG8gZ2V0IHRoZSBpbnRlZ2VyIHZhbHVlIG9mIGVhY2ggaXRlbVxuXG4gICAgaWYgKHRoaXMuaW5kZXggIT09IGluZGV4KSB7XG4gICAgICBcbiAgICAgIHRoaXMub25DaGFuZ2UoaW5kZXgpXG5cbiAgICB9IC8vIHByZXZlbnQgdG8gaGF2ZSB3ZWlyZCBpbmRleCB2YWx1ZXNcblxuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhLCBpbmRleCkgPT4ge1xuICAgICAgbWVkaWEudXBkYXRlKHRoaXMuc2Nyb2xsLmN1cnJlbnQsIHRoaXMuaW5kZXgpXG5cbiAgICAgIG1lZGlhLnVwZGF0ZSgpXG5cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zY2VuZS5yZW1vdmVDaGlsZCh0aGlzLmdyb3VwKVxuICB9XG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiN2MwZWRmN2ZmNDM1MWRmZGY1YzBcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJnbCIsInNjZW5lIiwic2l6ZXMiLCJ0cmFuc2l0aW9uIiwidGhpcyIsImlkIiwidHJhbnNmb3JtUHJlZml4IiwiUHJlZml4IiwiZ3JvdXAiLCJUcmFuc2Zvcm0iLCJnYWxsZXJ5RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdhbGxlcnlFbGVtZW50V3JhcHBlciIsInRpdGxlc0VsZW1lbnQiLCJjb2xsZWN0aW9uc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbGxlY3Rpb25zRWxlbWVudHNBY3RpdmUiLCJtZWRpYXNFbGVtZW50cyIsImZvckVhY2giLCJsaW5rIiwic2Nyb2xsIiwiY3VycmVudCIsInRhcmdldCIsInN0YXJ0IiwibGVycCIsInZlbG9jaXR5IiwiY3JlYXRlR2VvbWV0cnkiLCJjcmVhdGVHYWxsZXJ5Iiwic2V0UGFyZW50Iiwic2hvdyIsImdlb21ldHJ5IiwiUGxhbmUiLCJtZWRpYXMiLCJtYXAiLCJlbGVtZW50IiwiaW5kZXgiLCJNZWRpYSIsImFuaW1hdGUiLCJfIiwibWVkaWEiLCJoaWRlIiwib25SZXNpemUiLCJldmVudCIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxhc3QiLCJsaW1pdCIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJvblRvdWNoRG93biIsIngiLCJ5Iiwib25Ub3VjaE1vdmUiLCJkaXN0YW5jZSIsImVuZCIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJwaXhlbFkiLCJvbkNoYW5nZSIsInNlbGVjdGVkQ29sbGVjdGlvbiIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiZWxlbWVudEluZGV4IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic3R5bGUiLCJ1cGRhdGUiLCJHU0FQIiwidXRpbHMiLCJjbGFtcCIsImludGVycG9sYXRlIiwiZGlyZWN0aW9uIiwiTWF0aCIsImZsb29yIiwiYWJzIiwibGVuZ3RoIiwiZGVzdHJveSIsInJlbW92ZUNoaWxkIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9